---
layout: post
title: 도커 허브 등록 및 로그인
date: 2024-05-10
categories: [Docker]
tags: [컨테이너]
---

## 도커 허브와 도커 레지스트리

- 도커 레지스트리 : 이미지를 배포하는 장소
- 도커 허브는 **도커 제작사에서 운영하는 공식 도커 레지스트리**를 말한다.

### 레지스트리와 리포지토리

- 레지스트리 : 이미지를 배포하는 장소
- 리포지토리 : 레지스트리를 구성하는 단위

## 태그와 이미지 업로드

- 도커 허브에 공개로 업로드하든, 비공개 리포지토리에 업로드하든 이미지를 업로드하려면 이미지에 태그를 부여해야한다.

### 이미지 이름과 태그

- 도커의 태그는 레지스트리에 업로드를 상정한 이미지 이름이라고 말할 수 있다.
- 레지스트리의 주소와 버전 표기를 추가해 정식 명칭으로 만든다.

<img width="885" alt="Untitled" src="https://github.com/xotlr333/xotlr333.github.io/assets/81614820/27d9e930-f19f-4eef-acaf-f59cb786c788">

- 태그는 **‘레지스트리_주소(도커 허브는 ID)/리포지토리_이름:버전’**의 형식을 띤다.

### 이미지에 태그를 부여해 복제하는 커맨드 docker tag(docker image tag)

- 원래 있던 이미지 이름을 태그로 바꾸고 이미지를 복제하는 것이다.

```docker
docker tag 원래_이미지_이름 레지스트리_주소/리포지토리_이름:버전
```

### 이미지를 업로드하는 커맨드 docker push(docker image push)

- 이미지를 업로드하는 커맨드이다.

```docker
docker push 레지스트리_주소/리포지토리_이름:버전
```

## 레지스트리를 만드는 방법

### 비공개 레지스트리를 만드는 방법

- 레지스트리용 컨테이너가 따로 있으므로 이를 사용하면 된다.
- 다시 말해, 레지스트리도 도커를 통해 운영할 수 있다.
- 컨테이너를 만들면 사용자는 레지스트리에 로그인한 다음 이미지를 내려받을 곳으로 이 레지스트리를 지정한다.
- 레지스트리는 포트 5000번을 사용한다.

```docker
docker run -d -p 5000:5000 registry
```


---
참고)  
도서-그림과 실습으로 배우는 도커&쿠버네티스