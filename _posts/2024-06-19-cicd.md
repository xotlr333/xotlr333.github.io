---
layout: post
title: 1. CI/CD란 무엇일까?
date: 2024-06-19
categories: [Kubernetes, 7. 쿠버네티스의 CI/CD]
tags: [CI/CD]
---

## CI/CD 개념

- **CI는 Continuous Integration**의 약자로 **지속적 통합**을 뜻합니다.
- 지속적 통합은 **오류 수정 혹은 새로운 기능을 테스트하고 깃허브 같은 저장소에 배포하는 과정**을 의미합니다.
- CI의 핵심은 크게 두 가지입니다.
    - 첫 번째는 빠른 개발과 배포입니다.
    - 두 번째는 자동화입니다.

- **CD는 Continuous Delivery 또는 Continuous Deployment**의 약자로 **지속적 배포**를 의미합니다.
- 지속적 배포는 **테스트까지 완료된 소스 코드를 개발 환경과 운영 환경에 배포하는 것**을 의미합니다.

![Untitled](https://github.com/xotlr333/xotlr333.github.io/assets/81614820/7db954e5-09da-4e2b-8143-593291a12497)

## CI/CD 필요성

### CI/CD의 목적

1. 소스 코드 파일, 라이브러리, 구성 파일 및 스크립트를 포함해 전체 코드를 포함하는 프로그램 또는 버전 관리
2. 프로그램 빌드의 자동화
3. 자동화된 테스트

- CI/CD로는 Travis CI, Bamboo, Jenkins 등 같은 도구를 사용하는데, 그 중 **젠킨스**를 가장 많이 사용합니다.
- 젠킨스 같은 도구를 이용해서 개발자의 코드를 통합하고 도커 이미지로 빌드 했다면, CD 단계로 넘어가 코드를 어떻게 서비스(쿠버네티스 클러스터 내의 파드)로 배포할지 고민해야 합니다.

- 배포할 때는 가장 먼저 서비스(파드) 배포를 위한 매니페스트를 작성합니다.
- 그런데 이때 쿠버네티스 관리자는 개발자의 코드 수정이 있을 때 마다 매니페스트를 수정해야하지만 이런 번거러움을 해결할 수 있는 것이 CD입니다.
- 즉, **매니페스트를 하나의 리포지토리에 저장한 후 매니페스트와 쿠버네티스의 리소스를 주기적으로 비교해서 이 두 개가 서로 다르다면 동기화 작업을 해준다면** 관리자가 일일이 수동으로 변경하는 번거러움이 사라질 것입니다.
- 그래서 **빠르고 정확하게 배포를 도와주는 자동화 도구**를 사용하는데, 대표적으로 **ArgoCD**를 많이 사용합니다.

![Untitled 1](https://github.com/xotlr333/xotlr333.github.io/assets/81614820/e4868cb8-3e92-481f-ab0a-47d086571399)

- **깃허브(GitHub)** : 소프트웨어를 개발할 때 소스 코드 버전을 관리하기 위한 원격 저장소입니다.
- **깃옵스(GitOps)** : 깃허브에 있는 소스 코드를 쿠버네티스 클러스터에 그대로 반영합니다.
- **깃옵스 리포지터리(GitOps Repository)** : 매니페스트 파일들이 모여 있는 저장소입니다. 깃옵스는 매니페스트를 이용해 쿠버네티스 클러스터에 자동으로 배포(반영)하므로 이를 저장하기 위한 저장소라고 이해하면 됩니다.





---
참고)  
도서-쉽게 시작하는 쿠버네티스